<body></body>
<script src='waterway.js'></script>
<script>
var canvas=document.createElement('canvas');
canvas.width=canvas.height=1024;
var g=canvas.getContext('2d');
document.body.innerHTML='';
document.body.appendChild(canvas);
var size=10;
g.translate(512,512);
g.scale(1024/size,1024/size);
g.translate(-size/2,-size/2);
g.lineWidth=0.01;g.lineCap='round'
var out=genWaterWay(size);

out.lines.forEach(function(l){
  g.globalAlpha=0.1;
  g.beginPath();
  g.moveTo(l[0].x,l[0].y);g.lineTo(l[1].x,l[1].y);
  g.stroke();
})
out.triangles.forEach(function(tri){
  g.globalAlpha = 0.2;
  g.beginPath();
  g.moveTo(tri[0].x,tri[0].y);
  for(var i=1;i<tri.length;i++){
    g.lineTo(tri[i].x,tri[i].y);
  }
  g.fill();
  g.globalAlpha = 1;
})

</script>